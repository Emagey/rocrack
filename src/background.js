(()=>{var a={},s=[{id:"Groups",title:"Copy Group ID",targetUrlPatterns:["*://www.roblox.com/groups/*/*","*://www.roblox.com/groups/*","*://www.roblox.com/*/groups/*","*://www.roblox.com/*/groups/*/*","*://www.roblox.com/communities/*/*","*://www.roblox.com/communities/*","*://www.roblox.com/*/communities/*","*://www.roblox.com/*/communities/*/*"],regex:[/\/groups\/(\d+)/,/\/communities\/(\d+)/]},{id:"Users",title:"Copy User ID",targetUrlPatterns:["*://www.roblox.com/users/*","*://www.roblox.com/*/users/*"],regex:[/\/users\/(\d+)/]},{id:"Assets",title:"Copy Asset ID",targetUrlPatterns:["*://www.roblox.com/library/*","*://www.roblox.com/catalog/*","*://create.roblox.com/marketplace/asset/*","*://create.roblox.com/store/asset/*","*://www.roblox.com/*/library/*","*://www.roblox.com/*/catalog/*"],regex:[/\/library\/(\d+)/,/\/catalog\/(\d+)/,/\/marketplace\/asset\/(\d+)/,/\/store\/asset\/(\d+)/]},{id:"Bundles",title:"Copy Bundle ID",targetUrlPatterns:["*://www.roblox.com/bundles/*","*://www.roblox.com/*/bundles/*"],regex:[/\/bundles\/(\d+)/]},{id:"Places",title:"Copy Place ID",targetUrlPatterns:["*://www.roblox.com/games/*","*://www.roblox.com/games/refer?*","*://www.roblox.com/*/games/*","*://www.roblox.com/*/games/refer?*"],regex:[/\/games\/(\d+)/,/\/games\/refer.+placeid=(\d+)/i]},{id:"Universes",title:"Copy Universe ID",targetUrlPatterns:["*://www.roblox.com/*universeId=*"],regex:[/universeid=(\d+)/i]}],n=(e,r)=>{if(!r?.id)return;let t=s.find(i=>`QuickCopy_${i.id}`===e.menuItemId);if(!t)return;let c=e.linkUrl??e.pageUrl,o=t.regex.map(i=>c.match(i)).find(i=>i?.[1])?.[1];o&&chrome.tabs.sendMessage(r.id,{action:"copyText",text:o})};chrome.contextMenus&&chrome.contextMenus.onClicked.addListener(n);chrome.permissions.onAdded.addListener(e=>{e.permissions?.includes("contextMenus")&&setTimeout(()=>{for(let r of s)chrome.contextMenus.create({id:`QuickCopy_${r.id}`,title:r.title,contexts:["link"],enabled:!1,visible:!1,targetUrlPatterns:r.targetUrlPatterns,documentUrlPatterns:["*://www.roblox.com/*"]});chrome.contextMenus.onClicked.addListener(n)},100)});chrome.runtime.onMessage.addListener((e,r,t)=>(setTimeout(async()=>{switch(e.action){case"CacheValue":a[e.info.key]=e.info.value,t(!0);break;case"GetCacheValue":t(a[e.info.key]);break;case"ClearCacheKey":delete a[e.info.key],t(!0);break;case"ClearCache":a={},t(!0);break;case"createContextMenus":for(let o of s)chrome.contextMenus?.update(`QuickCopy_${o.id}`,{enabled:!0,visible:!0},()=>{chrome.runtime.lastError&&chrome.contextMenus.create({id:`QuickCopy_${o.id}`,title:o.title,contexts:["link"],enabled:!0,visible:!0,targetUrlPatterns:o.targetUrlPatterns})});t(!0);break;case"removeContextMenus":console.log("Removed");for(let o of s)chrome.contextMenus?.update(`QuickCopy_${o.id}`,{enabled:!1,visible:!1});t(!0);break;case"getURL":fetch(e.url,{headers:e.headers}).then(o=>{o.json().then(t)}).catch(t);break;case"openOptionsPage":chrome.runtime.openOptionsPage(),t();break;case"hasPermissions":chrome.permissions.contains({permissions:e.permissions},t);break;case"enableOffline":chrome.declarativeNetRequest.updateDynamicRules({addRules:[{id:200,priority:2,action:{type:chrome.declarativeNetRequest.RuleActionType.BLOCK},condition:{urlFilter:"presence.roblox.com/v1/presence/register-app-presence"}}]}),chrome.declarativeNetRequest.getDynamicRules(o=>{console.log(o)}),t(!0);break;case"disableOffline":chrome.declarativeNetRequest.updateDynamicRules({removeRuleIds:[200]}),chrome.declarativeNetRequest.getDynamicRules(o=>{console.log(o)}),t(!0);break;case"sendNotification":chrome.notifications.create(e.id,e.options,o=>{chrome.notifications.onClicked.addListener(i=>{i===o&&chrome.tabs.create({url:e.redirect})})}),t(!0);break;default:t(!1);break}}),!0));setInterval(()=>{for(let e in a)(a[e]?.time||Date.now())<Date.now()&&(console.log(`Cache expired for ${e}`),delete a[e])},1e3);chrome.runtime.onUpdateAvailable.addListener(()=>{chrome.notifications.create("updateNotification",{type:"basic",iconUrl:chrome.runtime.getURL("images/iconrounded.png"),title:"RoGold Ultimate",message:"There is a new update available!",priority:2,requireInteraction:!1})});chrome.runtime.onInstalled.addListener(async e=>{if(e.reason=="update"){let r=chrome.runtime.getManifest().version,t=e.previousVersion;r!=t&&chrome.notifications.create("updateNotification",{type:"basic",iconUrl:chrome.runtime.getURL("images/iconrounded.png"),title:"RoGold Ultimate",message:"RoGold Ultimate has been updated to version "+chrome.runtime.getManifest().version+"!",priority:2,requireInteraction:!1,buttons:[{title:"Changelog"}]},c=>{chrome.notifications.onButtonClicked.addListener((o,i)=>{o===c&&i===0&&chrome.tabs.create({url:"https://www.roblox.com/my/account?ultimate"})})})}else e.reason=="install"&&chrome.tabs.create({url:"https://www.roblox.com/my/account?ultimate"})});})();
/**
 *  @license
 *  RoGold Ultimate
 *  Coding and design by Alrovi Aps.
 *  Contact: contact@alrovi.com
 *  Copyright (C) Alrovi Aps
 *  All rights reserved.
 */
